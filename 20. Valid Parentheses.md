## first step

- stackに文字を入れていき、文字が括弧閉じならstackの中身が対応するかチェックする

```python
class Solution:
    def isValid(self, s: str) -> bool:
        stack = []

        for c in s:
            if stack and c in ")}]":
                if (c == ')' and stack.pop() != '(' or
                    c == '}' and stack.pop() != '{' or
                    c == ']' and stack.pop() != '['):
                    return False
            else:
                stack.append(c)
        if len(stack) == 0:
            return True
        else:
            return False
```

## second step

- Hashmapを利用すればより短くかけると知った。

```python
class Solution:
    def isValid(self, s: str) -> bool:
        stack = []
        close_to_open = {')' : '(', '}' : '{', ']' : '['}

        for bracket in s:
            if stack and bracket in close_to_open:
                open_bracket = close_to_open[bracket]
                if stack.pop() != open_bracket:
                    return False
            else:
                stack.append(bracket)
        if not stack:
            return True
        else:
            return False
```


## third step

- 条件文の中に副作用のある式があるのは避けられているようなので、popを条件文から外に移した。

```python
class Solution:
    def isValid(self, s: str) -> bool:
        stack = []
        close_to_open = {')' : '(', '}' : '{', ']' : '['}

        for bracket in s:
            if stack and bracket in close_to_open:
                open_bracket = close_to_open[bracket]
                if stack[-1] != open_bracket:
                    return False
                stack.pop()
            else:
                stack.append(bracket)
        return not stack
```


### 感想

- Pushdown automaton, context free languageが連想されているらしい。テストでよく出てきた。
- dequeを使うことができるというコメントを見た。dequeを知らないので後で調べよう。
- Hashmapを使った解答では、キーが括弧開きで値が括弧閉じの方が多かった。確かにその方が素直だと思う。


### 読んだコード

-　https://github.com/olsen-blue/Arai60/pull/6/files#diff-1819012df3645ae036bd8f1465a40f6801b5ee86bcfc00d20316e42f51f5107f
-　https://github.com/SanakoMeine/leetcode/pull/7/files
-　https://github.com/tarinaihitori/leetcode/pull/7/files
-　https://github.com/BumbuShoji/Leetcode/pull/7/files
